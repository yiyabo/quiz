# 🎨 前端多竞赛功能使用指南

## ✅ 已完成的修改

### 1. **导航栏竞赛选择器** (Layout.vue)
- ✅ 顶部导航栏添加竞赛下拉选择器
- ✅ 实时显示当前选中的竞赛
- ✅ 切换竞赛时显示提示消息

### 2. **首页** (Home.vue)
- ✅ Hero区域标题动态显示当前竞赛名称
- ✅ 描述动态显示当前竞赛说明
- ✅ 下载数据集按钮自动下载对应竞赛的数据

### 3. **提交页面** (Submit.vue)
- ✅ Header显示当前竞赛标签
- ✅ 提交时自动关联到选中的竞赛
- ✅ 提交前验证竞赛是否已选择

### 4. **排行榜页面** (Leaderboard.vue)
- ✅ Header显示当前竞赛标签
- ✅ 自动筛选当前竞赛的排行榜
- ✅ 切换竞赛时自动刷新排行榜

### 5. **状态管理** (stores/competition.js)
- ✅ 全局竞赛状态管理
- ✅ 自动加载竞赛列表
- ✅ 竞赛选择和切换逻辑

---

## 🚀 如何使用

### 启动前端

```bash
cd /Users/apple/work/quiz/frontend

# 如果是第一次启动，先安装依赖
npm install

# 启动开发服务器
npm run dev
```

访问：`http://localhost:3000`

---

## 🎯 功能演示

### 1. 选择竞赛
在顶部导航栏的下拉框中选择竞赛：
- **蛋白质相互作用预测** (ID: 1)
- **细胞间相互作用预测** (ID: 2)

### 2. 查看竞赛信息
- 首页会显示当前竞赛的标题和描述
- 每个页面都会显示当前竞赛的标签

### 3. 下载数据集
- 选择竞赛后，点击"下载数据集"
- 自动下载对应竞赛的数据包
  - PPI: `kaggle_dataset.tar.gz`
  - CCI: `dataset.tar.gz`

### 4. 提交预测
- 在提交页面，选择CSV文件
- 点击"提交评分"
- 系统会自动将提交关联到当前选中的竞赛

### 5. 查看排行榜
- 排行榜自动显示当前竞赛的排名
- 切换竞赛时，排行榜自动更新
- 每个竞赛有独立的排行榜

---

## 🎨 界面特点

### 竞赛选择器
```
┌─────────────────────────────────────────┐
│ 🏆 平台  [竞赛选择▼]  首页 排行榜 提交 │
└─────────────────────────────────────────┘
```

### 竞赛标签
```
提交页面 Header:
┌────────────────────────────────────┐
│ 📤 提交预测结果  [蛋白质相互作用预测] │
└────────────────────────────────────┘
```

### 动态标题
```
首页 Hero:
┌─────────────────────────────────────┐
│   蛋白质相互作用预测                 │
│   预测两个蛋白质是否会发生相互作用    │
│   [下载数据集] [查看排行榜]          │
└─────────────────────────────────────┘
```

---

## 📱 响应式设计

前端完全支持移动端：
- ✅ 竞赛选择器在小屏幕上自适应
- ✅ 导航菜单响应式布局
- ✅ 所有页面支持移动设备访问

---

## 🧪 测试步骤

### 完整测试流程：

1. **启动系统**
   ```bash
   # 终端1: 启动后端
   cd backend && conda activate quiz && python main.py
   
   # 终端2: 启动前端
   cd frontend && npm run dev
   ```

2. **注册登录**
   - 访问 `http://localhost:3000`
   - 点击"注册"创建账号
   - 登录系统

3. **测试PPI竞赛**
   - 在导航栏选择"蛋白质相互作用预测"
   - 首页标题变为"蛋白质相互作用预测"
   - 下载PPI数据集
   - 提交预测文件（使用`kaggle_dataset/sample_submission.csv`）
   - 查看排行榜

4. **测试CCI竞赛**
   - 切换到"细胞间相互作用预测"
   - 首页标题变为"细胞间相互作用预测"
   - 下载CCI数据集
   - 提交预测文件（需要创建符合格式的CSV）
   - 查看排行榜（独立于PPI）

5. **切换验证**
   - 在排行榜页面切换竞赛
   - 排行榜数据自动刷新
   - 每个竞赛显示独立的排名

---

## 🔧 技术细节

### 状态管理
```javascript
// stores/competition.js
- competitions: [] // 竞赛列表
- selectedCompetitionId: 1 // 当前选中的竞赛ID
- selectedCompetition // computed: 当前竞赛对象
```

### API调用
```javascript
// 提交时传递竞赛ID
submissionAPI.submit(competitionId, file)

// 排行榜按竞赛筛选
leaderboardAPI.getLeaderboard(competitionId)

// 下载对应竞赛数据
downloadAPI.getDatasetUrl(competitionId)
```

### 组件通信
- 使用 Pinia store 全局管理竞赛状态
- 所有页面共享同一个竞赛选择
- 切换竞赛时自动更新相关数据

---

## 📝 修改的文件清单

```
frontend/src/
├── components/
│   └── Layout.vue          # ✅ 添加竞赛选择器
├── stores/
│   └── competition.js      # ✅ 新建竞赛状态管理
├── api/
│   └── index.js            # ✅ 更新API接口
└── views/
    ├── Home.vue            # ✅ 支持竞赛切换
    ├── Submit.vue          # ✅ 支持竞赛提交
    ├── Leaderboard.vue     # ✅ 支持竞赛筛选
    └── Profile.vue         # （暂未修改，可选）
```

---

## ✨ 已实现的功能

- ✅ 导航栏竞赛选择器
- ✅ 竞赛信息实时显示
- ✅ 按竞赛下载数据集
- ✅ 按竞赛提交预测
- ✅ 按竞赛显示排行榜
- ✅ 竞赛切换提示
- ✅ 响应式设计

---

**前端多竞赛功能已完全实现！立即体验吧！** 🎉

